<?xml version="1.0" encoding="UTF-8"?>
<svg width="800" height="800" viewBox="0 0 800 800" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <filter id="shadow" x="-5%" y="-5%" width="110%" height="110%">
      <feDropShadow dx="2" dy="2" stdDeviation="3" flood-color="#000000" flood-opacity="0.1"/>
    </filter>
  </defs>

  <!-- Background -->
  <rect width="100%" height="100%" fill="#ffffff" rx="10"/>

  <!-- Title -->
  <text x="400" y="50" font-family="Arial, sans-serif" font-size="24" font-weight="bold" text-anchor="middle" fill="#333">
    B2B SaaS 典型全链路漏斗 (Full Funnel)
  </text>

  <!-- Funnel Stack -->
  <g transform="translate(200, 100)">
    
    <!-- Level 1: Awareness -->
    <polygon points="0,0 400,0 370,80 30,80" fill="#E3F2FD" stroke="#2196F3" stroke-width="1"/>
    <text x="200" y="45" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="#1565C0">AWARENESS (访客)</text>
    <!-- Conversion 1 -->
    <text x="-40" y="90" font-family="Arial, sans-serif" font-size="12" fill="#555">Visitor → Lead</text>
    <text x="-40" y="105" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#333">~ 2-5%</text>

    <!-- Level 2: Lead -->
    <g transform="translate(30, 80)">
      <polygon points="0,0 340,0 310,80 30,80" fill="#E1F5FE" stroke="#03A9F4" stroke-width="1"/>
      <text x="170" y="45" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="#0277BD">LEAD (线索)</text>
    </g>
    <!-- Conversion 2 -->
    <text x="420" y="170" font-family="Arial, sans-serif" font-size="12" text-anchor="end" fill="#555">Lead → MQL</text>
    <text x="420" y="185" font-family="Arial, sans-serif" font-size="12" font-weight="bold" text-anchor="end" fill="#333">~ 20-40%</text>

    <!-- Level 3: MQL -->
    <g transform="translate(60, 160)">
      <polygon points="0,0 280,0 250,80 30,80" fill="#E0F7FA" stroke="#00BCD4" stroke-width="1"/>
      <text x="140" y="45" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="#00838F">MQL (市场合格)</text>
    </g>
    <!-- Conversion 3 -->
    <text x="-40" y="250" font-family="Arial, sans-serif" font-size="12" fill="#555">MQL → SQL</text>
    <text x="-40" y="265" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#333">~ 25-35%</text>

    <!-- Level 4: SQL -->
    <g transform="translate(90, 240)">
      <polygon points="0,0 220,0 190,80 30,80" fill="#E8F5E9" stroke="#4CAF50" stroke-width="1"/>
      <text x="110" y="45" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="#2E7D32">SQL (销售合格)</text>
    </g>
    <!-- Conversion 4 -->
    <text x="420" y="330" font-family="Arial, sans-serif" font-size="12" text-anchor="end" fill="#555">SQL → Opp</text>
    <text x="420" y="345" font-family="Arial, sans-serif" font-size="12" font-weight="bold" text-anchor="end" fill="#333">~ 50-70%</text>

    <!-- Level 5: Opportunity -->
    <g transform="translate(120, 320)">
      <polygon points="0,0 160,0 130,80 30,80" fill="#FFF3E0" stroke="#FF9800" stroke-width="1"/>
      <text x="80" y="45" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="#E65100">OPPORTUNITY</text>
    </g>
    <!-- Conversion 5 -->
    <text x="-40" y="410" font-family="Arial, sans-serif" font-size="12" fill="#555">Win Rate</text>
    <text x="-40" y="425" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#333">~ 20-30%</text>

    <!-- Level 6: Won -->
    <g transform="translate(150, 400)">
      <rect width="100" height="80" fill="#2E7D32" stroke="#1B5E20" stroke-width="2"/>
      <text x="50" y="45" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="#ffffff">WON</text>
    </g>

    <!-- Expansion Loop (NRR) -->
    <g transform="translate(60, 520)">
      <path d="M 0,0 Q 140,40 280,0" fill="none" stroke="#6366F1" stroke-width="2" stroke-dasharray="5,5"/>
      <rect x="90" y="-15" width="100" height="30" rx="15" fill="#EEF2FF" stroke="#6366F1"/>
      <text x="140" y="5" font-family="Arial, sans-serif" font-size="12" font-weight="bold" text-anchor="middle" fill="#4F46E5">扩张 (NRR)</text>
    </g>
  </g>

  <!-- Bottom Legend -->
  <g transform="translate(100, 680)">
    <rect width="600" height="80" rx="8" fill="#F9FAFB" stroke="#E5E7EB"/>
    <text x="300" y="30" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="#333">关键洞察：</text>
    <text x="300" y="55" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#666">
      从 Awareness 到 Won 是一个不断收窄的筛选过程，但 Won 之后的扩张（NRR）是新的增长引擎。
    </text>
  </g>

</svg>
